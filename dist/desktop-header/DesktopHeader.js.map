{"version":3,"file":"DesktopHeader.js","names":["React","PropTypes","injectIntl","intlShape","getConfig","Menu","MenuTrigger","MenuContent","Avatar","LogoSlot","DesktopLoggedOutItemsSlot","desktopLoggedOutItemsDataShape","DesktopMainMenuSlot","desktopHeaderMainOrSecondaryMenuDataShape","DesktopSecondaryMenuSlot","DesktopUserMenuSlot","desktopUserMenuDataShape","messages","CaretIcon","DesktopHeader","_React$Component","props","_classCallCheck","_callSuper","_inherits","_createClass","key","value","renderMainMenu","mainMenu","createElement","menu","renderSecondaryMenu","secondaryMenu","renderUserMenu","_this$props","userMenu","avatar","username","intl","transitionClassName","transitionTimeout","tag","formatMessage","className","size","src","alt","role","focusable","renderLoggedOutItems","loggedOutItems","items","render","_this$props2","logo","logoAltText","logoDestination","loggedIn","logoProps","href","logoClasses","AUTHN_MINIMAL_HEADER","concat","Fragment","Component","desktopHeaderDataShape","string","bool","propTypes","secondaryMenumainMenu","userMenumainMenu","loggedOutItemsmainMenu","logomainMenu","logoAltTextmainMenu","logoDestinationmainMenu","avatarmainMenu","usernamemainMenu","loggedInmainMenu","isRequired","defaultProps"],"sources":["../../src/desktop-header/DesktopHeader.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\n// Local Components\nimport { Menu, MenuTrigger, MenuContent } from '../Menu';\nimport Avatar from '../Avatar';\nimport LogoSlot from '../plugin-slots/LogoSlot';\nimport DesktopLoggedOutItemsSlot from '../plugin-slots/DesktopLoggedOutItemsSlot';\nimport { desktopLoggedOutItemsDataShape } from './DesktopLoggedOutItems';\nimport DesktopMainMenuSlot from '../plugin-slots/DesktopMainMenuSlot';\nimport { desktopHeaderMainOrSecondaryMenuDataShape } from './DesktopHeaderMainOrSecondaryMenu';\nimport DesktopSecondaryMenuSlot from '../plugin-slots/DesktopSecondaryMenuSlot';\nimport DesktopUserMenuSlot from '../plugin-slots/DesktopUserMenuSlot';\nimport { desktopUserMenuDataShape } from './DesktopHeaderUserMenu';\n\n// i18n\nimport messages from '../Header.messages';\n\n// Assets\nimport { CaretIcon } from '../Icons';\n\nclass DesktopHeader extends React.Component {\n  constructor(props) { // eslint-disable-line no-useless-constructor\n    super(props);\n  }\n\n  renderMainMenu() {\n    const { mainMenu } = this.props;\n    return <DesktopMainMenuSlot menu={mainMenu} />;\n  }\n\n  renderSecondaryMenu() {\n    const { secondaryMenu } = this.props;\n    return <DesktopSecondaryMenuSlot menu={secondaryMenu} />;\n  }\n\n  renderUserMenu() {\n    const {\n      userMenu,\n      avatar,\n      username,\n      intl,\n    } = this.props;\n\n    return (\n      <Menu transitionClassName=\"menu-dropdown\" transitionTimeout={250}>\n        <MenuTrigger\n          tag=\"button\"\n          aria-label={intl.formatMessage(messages['header.label.account.menu.for'], { username })}\n          className=\"btn btn-outline-primary d-inline-flex align-items-center pl-2 pr-3\"\n        >\n          <Avatar size=\"1.5em\" src={avatar} alt=\"\" className=\"mr-2\" />\n          {username} <CaretIcon role=\"img\" aria-hidden focusable=\"false\" />\n        </MenuTrigger>\n        <MenuContent className=\"mb-0 dropdown-menu show dropdown-menu-right pin-right shadow py-2\">\n          <DesktopUserMenuSlot menu={userMenu} />\n        </MenuContent>\n      </Menu>\n    );\n  }\n\n  renderLoggedOutItems() {\n    const { loggedOutItems } = this.props;\n    return <DesktopLoggedOutItemsSlot items={loggedOutItems} />;\n  }\n\n  render() {\n    const {\n      logo,\n      logoAltText,\n      logoDestination,\n      loggedIn,\n      intl,\n    } = this.props;\n    const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\n    const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'mw-100' : null;\n\n    return (\n      <header className=\"site-header-desktop\">\n        <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\n        <div className={`container-fluid ${logoClasses}`}>\n          <div className=\"nav-container position-relative d-flex align-items-center\">\n            <LogoSlot {...logoProps} />\n            <nav\n              aria-label={intl.formatMessage(messages['header.label.main.nav'])}\n              className=\"nav main-nav\"\n            >\n              {this.renderMainMenu()}\n            </nav>\n            <nav\n              aria-label={intl.formatMessage(messages['header.label.secondary.nav'])}\n              className=\"nav secondary-menu-container align-items-center ml-auto\"\n            >\n              {loggedIn\n                ? (\n                  <>\n                    {this.renderSecondaryMenu()}\n                    {this.renderUserMenu()}\n                  </>\n                ) : this.renderLoggedOutItems()}\n            </nav>\n          </div>\n        </div>\n      </header>\n    );\n  }\n}\n\nexport const desktopHeaderDataShape = {\n  mainMenu: desktopHeaderMainOrSecondaryMenuDataShape,\n  secondaryMenu: desktopHeaderMainOrSecondaryMenuDataShape,\n  userMenu: desktopUserMenuDataShape,\n  loggedOutItems: desktopLoggedOutItemsDataShape,\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  logoDestination: PropTypes.string,\n  avatar: PropTypes.string,\n  username: PropTypes.string,\n  loggedIn: PropTypes.bool,\n};\n\nDesktopHeader.propTypes = {\n  mainMenu: desktopHeaderDataShape.mainMenu,\n  secondaryMenu: desktopHeaderDataShape.secondaryMenumainMenu,\n  userMenu: desktopHeaderDataShape.userMenumainMenu,\n  loggedOutItems: desktopHeaderDataShape.loggedOutItemsmainMenu,\n  logo: desktopHeaderDataShape.logomainMenu,\n  logoAltText: desktopHeaderDataShape.logoAltTextmainMenu,\n  logoDestination: desktopHeaderDataShape.logoDestinationmainMenu,\n  avatar: desktopHeaderDataShape.avatarmainMenu,\n  username: desktopHeaderDataShape.usernamemainMenu,\n  loggedIn: desktopHeaderDataShape.loggedInmainMenu,\n\n  // i18n\n  intl: intlShape.isRequired,\n};\n\nDesktopHeader.defaultProps = {\n  mainMenu: [],\n  secondaryMenu: [],\n  userMenu: [],\n  loggedOutItems: [],\n  logo: null,\n  logoAltText: null,\n  logoDestination: null,\n  avatar: null,\n  username: null,\n  loggedIn: false,\n};\n\nexport default injectIntl(DesktopHeader);\n"],"mappings":"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","ignoreList":[]}