{"version":3,"file":"MobileHeader.js","names":["React","PropTypes","injectIntl","intlShape","getConfig","Menu","MenuTrigger","MenuContent","Avatar","LogoSlot","MobileLoggedOutItemsSlot","mobileHeaderLoggedOutItemsDataShape","MobileMainMenuSlot","mobileHeaderMainMenuDataShape","MobileUserMenuSlot","mobileHeaderUserMenuDataShape","messages","MenuIcon","MobileHeader","_React$Component","props","_classCallCheck","_callSuper","_inherits","_createClass","key","value","renderMainMenu","_this$props","mainMenu","secondaryMenu","createElement","menu","concat","_toConsumableArray","renderUserMenuItems","userMenu","renderLoggedOutItems","loggedOutItems","items","render","_this$props2","logo","logoAltText","logoDestination","loggedIn","avatar","username","stickyOnMobile","intl","logoProps","src","alt","href","stickyClassName","logoClasses","AUTHN_MINIMAL_HEADER","formatMessage","className","length","tag","title","role","focusable","style","width","height","_extends","itemType","size","Component","mobileHeaderDataShape","string","bool","propTypes","isRequired","defaultProps"],"sources":["../../src/mobile-header/MobileHeader.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\n// Local Components\nimport { Menu, MenuTrigger, MenuContent } from '../Menu';\nimport Avatar from '../Avatar';\nimport LogoSlot from '../plugin-slots/LogoSlot';\nimport MobileLoggedOutItemsSlot from '../plugin-slots/MobileLoggedOutItemsSlot';\nimport { mobileHeaderLoggedOutItemsDataShape } from './MobileLoggedOutItems';\nimport MobileMainMenuSlot from '../plugin-slots/MobileMainMenuSlot';\nimport { mobileHeaderMainMenuDataShape } from './MobileHeaderMainMenu';\nimport MobileUserMenuSlot from '../plugin-slots/MobileUserMenuSlot';\nimport { mobileHeaderUserMenuDataShape } from './MobileHeaderUserMenu';\n\n// i18n\nimport messages from '../Header.messages';\n\n// Assets\nimport { MenuIcon } from '../Icons';\n\nclass MobileHeader extends React.Component {\n  constructor(props) { // eslint-disable-line no-useless-constructor\n    super(props);\n  }\n\n  renderMainMenu() {\n    const { mainMenu, secondaryMenu } = this.props;\n    return <MobileMainMenuSlot menu={[...mainMenu, ...secondaryMenu]} />;\n  }\n\n  renderUserMenuItems() {\n    const { userMenu } = this.props;\n    return <MobileUserMenuSlot menu={userMenu} />;\n  }\n\n  renderLoggedOutItems() {\n    const { loggedOutItems } = this.props;\n    return <MobileLoggedOutItemsSlot items={loggedOutItems} />;\n  }\n\n  render() {\n    const {\n      logo,\n      logoAltText,\n      logoDestination,\n      loggedIn,\n      avatar,\n      username,\n      stickyOnMobile,\n      intl,\n      mainMenu,\n      userMenu,\n      loggedOutItems,\n    } = this.props;\n    const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\n    const stickyClassName = stickyOnMobile ? 'sticky-top' : '';\n    const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'justify-content-left pl-3' : 'justify-content-center';\n\n    return (\n      <header\n        aria-label={intl.formatMessage(messages['header.label.main.header'])}\n        className={`site-header-mobile d-flex justify-content-between align-items-center shadow ${stickyClassName}`}\n      >\n        <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\n        {mainMenu.length > 0 ? (\n          <div className=\"w-100 d-flex justify-content-start\">\n\n            <Menu className=\"position-static\">\n              <MenuTrigger\n                tag=\"button\"\n                className=\"icon-button\"\n                aria-label={intl.formatMessage(messages['header.label.main.menu'])}\n                title={intl.formatMessage(messages['header.label.main.menu'])}\n              >\n                <MenuIcon role=\"img\" aria-hidden focusable=\"false\" style={{ width: '1.5rem', height: '1.5rem' }} />\n              </MenuTrigger>\n              <MenuContent\n                tag=\"nav\"\n                aria-label={intl.formatMessage(messages['header.label.main.nav'])}\n                className=\"nav flex-column pin-left pin-right border-top shadow py-2\"\n              >\n                {this.renderMainMenu()}\n              </MenuContent>\n            </Menu>\n          </div>\n        ) : null}\n        <div className={`w-100 d-flex ${logoClasses}`}>\n          <LogoSlot {...logoProps} itemType=\"http://schema.org/Organization\" />\n        </div>\n        {userMenu.length > 0 || loggedOutItems.length > 0 ? (\n          <div className=\"w-100 d-flex justify-content-end align-items-center\">\n            <Menu tag=\"nav\" aria-label={intl.formatMessage(messages['header.label.secondary.nav'])} className=\"position-static\">\n              <MenuTrigger\n                tag=\"button\"\n                className=\"icon-button\"\n                aria-label={intl.formatMessage(messages['header.label.account.menu'])}\n                title={intl.formatMessage(messages['header.label.account.menu'])}\n              >\n                <Avatar size=\"1.5rem\" src={avatar} alt={username} />\n              </MenuTrigger>\n              <MenuContent tag=\"ul\" className=\"nav flex-column pin-left pin-right border-top shadow py-2\">\n                {loggedIn ? this.renderUserMenuItems() : this.renderLoggedOutItems()}\n              </MenuContent>\n            </Menu>\n          </div>\n        ) : null}\n      </header>\n    );\n  }\n}\n\nexport const mobileHeaderDataShape = {\n  mainMenu: mobileHeaderMainMenuDataShape,\n  secondaryMenu: mobileHeaderMainMenuDataShape,\n  userMenu: mobileHeaderUserMenuDataShape,\n  loggedOutItems: mobileHeaderLoggedOutItemsDataShape,\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  logoDestination: PropTypes.string,\n  avatar: PropTypes.string,\n  username: PropTypes.string,\n  loggedIn: PropTypes.bool,\n  stickyOnMobile: PropTypes.bool,\n};\n\nMobileHeader.propTypes = {\n  mainMenu: mobileHeaderDataShape.mainMenu,\n  secondaryMenu: mobileHeaderDataShape.secondaryMenu,\n  userMenu: mobileHeaderDataShape.userMenu,\n  loggedOutItems: mobileHeaderDataShape.loggedOutItems,\n  logo: mobileHeaderDataShape.logo,\n  logoAltText: mobileHeaderDataShape.logoAltText,\n  logoDestination: mobileHeaderDataShape.logoDestination,\n  avatar: mobileHeaderDataShape.avatar,\n  username: mobileHeaderDataShape.username,\n  loggedIn: mobileHeaderDataShape.loggedIn,\n  stickyOnMobile: mobileHeaderDataShape.stickyOnMobile,\n\n  // i18n\n  intl: intlShape.isRequired,\n};\n\nMobileHeader.defaultProps = {\n  mainMenu: [],\n  secondaryMenu: [],\n  userMenu: [],\n  loggedOutItems: [],\n  logo: null,\n  logoAltText: null,\n  logoDestination: null,\n  avatar: null,\n  username: null,\n  loggedIn: false,\n  stickyOnMobile: true,\n\n};\n\nexport default injectIntl(MobileHeader);\n"],"mappings":"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","ignoreList":[]}